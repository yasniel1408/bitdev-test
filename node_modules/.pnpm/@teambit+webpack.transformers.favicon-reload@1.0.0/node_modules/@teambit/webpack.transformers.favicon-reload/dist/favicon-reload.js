"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.faviconReload = void 0;
/**
 * force the browser to reload the favicon on every build.
 * @param filename the favicon filename. default to '/favicon.svg'.
 * It should start with '/'.
 */
function faviconReload(filename) {
    return (config, context) => {
        if ((context === null || context === void 0 ? void 0 : context.mode) === 'prod')
            return config;
        config.removeElementFromHtmlTemplate(`<link rel="icon" href="${filename || '/favicon.svg'}">`);
        config.addElementToHtmlTemplate({
            tag: 'link',
            parent: 'head',
            position: 'append',
            attributes: {
                rel: 'icon',
                href: `${`${filename || '/favicon.svg'}?v=${Date.now()}`}`,
            },
        });
        return config;
    };
}
exports.faviconReload = faviconReload;
//# sourceMappingURL=favicon-reload.js.map
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.browserFromExpress = void 0;
/** extract BrowserData from Express request (convinience method) */
function browserFromExpress(req, port) {
    return {
        location: requestToLocation(req, port),
        headers: req.headers,
    };
}
exports.browserFromExpress = browserFromExpress;
function requestToLocation(request, port) {
    return {
        host: `${request.hostname}:${port}`,
        hostname: request.hostname,
        href: `${request.protocol}://${request.hostname}:${port}${request.url}`,
        origin: `${request.protocol}://${request.hostname}:${port}`,
        pathname: request.path,
        port: port.toString(),
        protocol: `${request.protocol}:`,
        hash: '',
        search: extractSearch(request.url),
    };
}
function extractSearch(url) {
    const [, after] = url.split('?');
    if (!after)
        return '';
    return `?${after}`;
}
//# sourceMappingURL=browser-from-express.js.map